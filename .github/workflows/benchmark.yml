name: Performance benchmark

on:
  workflow_dispatch:
    inputs:
      version:
        description: "Run performance benchmarking tests."
        required: false

jobs:
  backend:
    timeout-minutes: 30
    steps:
      - uses: actions/checkout@v3
      - uses: actions/setup-python@v4 
        with:
          python-version: 'pypy3.9'
      - name: Install tox
        run: pip install tox
      - name: Performance Benchmark
        env: 
          TOX_PARALLEL_NO_SPINNER: 1
        run:
          pip install git+https://git@github.com/Avaiga/taipy.git@develop scikit-learn
          python performance/main.py